<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile - TicketStation</title>
    <link rel="stylesheet" href="profile.css">
</head>
<style>
    .profile-pic {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        object-fit: cover;
    }

    /* Hide the actual file input */
    #uploadPic {
        display: none;
    }

    /* Style the custom upload button */
    .upload-button {
        display: inline-block;
        padding: 3px 6px;
        background-color: #007BFF;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .upload-button:hover {
        background-color: #0056b3;
    }
</style>
<body>
    <div class="container">
        <nav class="sidebar">
            <div class="profile">
                <img src="./img/profile-picture2.jpeg" alt="Profile Picture" class="profile-pic" id="profilePic">
                <br>
                <label class="upload-button" for="uploadPic">Change</label>
                <input type="file" id="uploadPic" accept="image/*">
                <h3 id="userName" style="font-size: 2rem;"></h3>
            </div>
            <ul>
                <li id="profileTab">Profile</li>
                <li id="ticketsTab">Tickets</li>
                <li id="bankDetailsTab">Bank details</li>
            </ul>
        </nav>
        <div class="main-content">
            <section id="profileSection">
                <h2>Personal Information</h2>
                <form id="profileForm">
                    <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" value="Kevin">
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" value="Malou">
                    </div>
                    <div class="form-group">
                        <label for="phoneNumber">Phone Number</label>
                        <input type="text" id="phoneNumber" value="Cell number">
                    </div>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <input type="text" id="country" value="South Africa">
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" value="maloukevin6@gmail.com">
                    </div>
                    <button type="submit">Save</button>
                </form>
            </section>

            <section style="width: 1000px; display: none;" id="tickets">
                <div class="parent-container">
                    <table class="content-table" style="justify-content: space-between;">
                        <thead>
                          <tr>
                            <th>#</th>
                            <th style="width: 200px;">Name</th>
                            <th style="width: 200px;">Departure</th>
                            <th style="width: 200px;">Destination</th>
                            <th style="width: 200px;">Price</th>
                          </tr>
                        </thead>
                        <tbody id="confirmation-tickets-body">
                        
                        </tbody>
                       
                      </table>
                </div>
                <div>
                </div>
             </section>

            <section id="bankDetailsSection" style="display:none;">
                <h2>Update your bank details</h2>
                <form id="bankDetailsForm">
                    <div class="form-group">
                        <label for="idNumber">ID number</label>
                        <input type="text" id="idNumber">
                    </div>
                    <div class="form-group">
                        <label for="bankName">Bank Name</label>
                        <select id="bankName">
                            <option value="">Select your bank</option>
                            <option value="Bank A">First National Bank (FNB)</option>
                            <option value="Bank B">ABSA</option>
                            <option value="Bank C">Nedbank</option>
                            <option value="Bank D">Capitec</option>
                            <option value="Bank E">Standard Bank</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="accountNumber">Card Number</label>
                        <input type="text" id="accountNumber">
                    </div>
                    <div class="form-group">
                        <label for="branchCode">Bank branch code</label>
                        <input type="text" id="branchCode">
                    </div>
                    <div class="form-group">
                        <label for="cvvNumber">CVV</label>
                        <input type="text" id="cvvNumber">
                    </div>
                    <div class="form-group">
                        <label for="accountType">Account Type</label>
                        <select id="accountType">
                            <option value="cheque">Cheque</option>
                            <option value="savings">Savings</option>
                            <option value="debit">Debit</option>
                        </select>
                    </div>
                    <button type="submit">Save</button>
                </form>
            </section>
        </div>
    </div>
    
    <script src="confirmation.js"></script>
    <script>
        // Retrieve the username from local storage
        const username = localStorage.getItem('userName');
        document.getElementById('userName').textContent = `${username}`;
        const profilePic = document.getElementById('profilePic');
        const uploadPic = document.getElementById('uploadPic');

        uploadPic.addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    profilePic.src = e.target.result;
                    // Optionally, store the image in local storage
                    localStorage.setItem('profilePic', e.target.result);
                }
                reader.readAsDataURL(file);
            }
        });

        // Load profile picture from local storage if it exists
        const storedPic = localStorage.getItem('profilePic');
        if (storedPic) {
            profilePic.src = storedPic;
        }
    </script>
    <script src="profile.js"></script>
</body>
</html>
